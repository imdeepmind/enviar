{"version":3,"sources":["../../app/utils/logger.js"],"names":["logDir","fs","existsSync","mkdirSync","filename","path","join","logger","levels","winston","config","syslog","format","combine","timestamp","printf","info","level","message","transports","Console","LOG_LEVEL","colorize","File"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAGA;;;;;;AAEA,IAAMA,SAAS,KAAf;;AAEA,IAAI,CAACC,aAAGC,UAAH,CAAcF,MAAd,CAAL,EAA4B;AACxBC,iBAAGE,SAAH,CAAaH,MAAb;AACH;;AAED,IAAMI,WAAWC,eAAKC,IAAL,CAAUN,MAAV,EAAkB,aAAlB,CAAjB;;AAEA,IAAMO,SAAS,2BAAa;AACxBC,YAAQC,kBAAQC,MAAR,CAAeC,MAAf,CAAsBH,MADN;AAExBI,YAAQA,gBAAOC,OAAP,CACJD,gBAAOE,SAAP,CAAiB;AACbF,gBAAQ;AADK,KAAjB,CADI,EAIJA,gBAAOG,MAAP,CAAc;AAAA,eAAWC,KAAKF,SAAhB,SAA6BE,KAAKC,KAAlC,UAA4CD,KAAKE,OAAjD;AAAA,KAAd,CAJI,CAFgB;AAQxBC,gBAAY,CACR,IAAIA,oBAAWC,OAAf,CAAuB;AACvBH,eAAOP,iBAAOW,SADS;AAEvBT,gBAAQA,gBAAOC,OAAP,CACJD,gBAAOU,QAAP,EADI,EAEJV,gBAAOG,MAAP,CACI;AAAA,mBAAWC,KAAKF,SAAhB,SAA6BE,KAAKC,KAAlC,UAA4CD,KAAKE,OAAjD;AAAA,SADJ,CAFI;AAFe,KAAvB,CADQ,EAUR,IAAIC,oBAAWI,IAAf,CAAoB,EAAEnB,kBAAF,EAApB,CAVQ;AARY,CAAb,CAAf;;kBAsBeG,M","file":"logger.js","sourcesContent":["import path from 'path';\nimport fs from 'fs';\nimport { createLogger, format, transports } from 'winston';\nimport winston from 'winston';\n\nimport config from '../config';\n\nconst logDir = 'log';\n\nif (!fs.existsSync(logDir)) {\n    fs.mkdirSync(logDir);\n}  \n\nconst filename = path.join(logDir, 'logging.log');\n\nconst logger = createLogger({\n    levels: winston.config.syslog.levels,\n    format: format.combine(\n        format.timestamp({\n            format: 'YYYY-MM-DD HH:mm:ss'\n        }),\n        format.printf(info => `${info.timestamp} ${info.level}: ${info.message}`)\n    ),\n    transports: [\n        new transports.Console({\n        level: config.LOG_LEVEL,\n        format: format.combine(\n            format.colorize(),\n            format.printf(\n                info => `${info.timestamp} ${info.level}: ${info.message}`\n            )\n        )\n        }),\n        new transports.File({ filename })\n    ]\n});\n\nexport default logger;"]}